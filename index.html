<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport"
              content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0 minimum-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Editor Test</title>
        <link rel="stylesheet" href="src/editor.css">
        <link rel="stylesheet" href="src/editor/lang/js/js.css">
    </head>
    <body>
        <div class="editor-c"></div>
        <div class="editor-c2"></div>
        <script type="module">
            import {Editor} from './src/editor/Editor.ts';
            import {EditorInstance} from "./src/editor/EditorInstance";
            import {TextRange} from "./src/editor/core/coordinate/TextRange";
            import {InlayHint} from "./src/editor/ui/components/inline/inlays/InlayHint";
            import {InlayUtils} from "./src/editor/utils/InlayUtils";
            import {SerializationUtils} from "./src/editor/core/serializable/SerializationUtils";
            import {JsLexicalGrammar} from "./src/plugins/jsLang/lang/lexer/JsLexicalGrammar";
            import {RegExpLexer} from "./src/editor/lang/lexer/RegExprLexer";
            import {ASTBuilder} from "./src/editor/lang/ast/builder/ASTBuilder";
            import {JsGrammar} from "./src/plugins/jsLang/lang/parser/JsGrammar";
            import {JsParser} from "./src/plugins/jsLang/lang/parser/JsParser";
            import {PluginLoader} from "./src/editor/plugins/loader/PluginLoader";

            const editor = new Editor();

            editor.attach(document.querySelector('.editor-c'));

            window.editor = editor;
            window.EditorInstance = EditorInstance;
            window.TextRange = TextRange;
            window.InlayHint = InlayHint;
            window.InlayUtils = InlayUtils;
            window.SerializationUtils = SerializationUtils;

            window.JsGr = JsLexicalGrammar;
            window.RegLex = RegExpLexer;
            window.JsLex = new RegLex(JsGr);

            window.builder = ASTBuilder;

            window.JsAst = JsGrammar;

            window.Parser = JsParser;
            window.p = s => {
                const b = new builder(JsLex.asTokenStream(s));
                new Parser(b).parse();
                return b.production;
            }

            new PluginLoader(null).loadAll();

        </script>
    </body>
</html>